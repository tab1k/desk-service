# Desk Service API

–°–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –∑–∞—è–≤–∫–∞–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, –Ω–∞–∑–Ω–∞—á–∞—Ç—å –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞—è–≤–æ–∫.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä–Ω—É—Ç –≤ Docker, —Ç–∞–∫ —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –ø—Ä–æ—â–µ –ø—Ä–æ—Å—Ç–æ–≥–æ.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker
- Docker Compose

### –ó–∞–ø—É—Å–∫

1. –°–∫–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2. –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª –∏–∑ –ø—Ä–∏–º–µ—Ä–∞:
   ```bash
   cp .env.example .env
   ```
   –í `.env` —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è dev-–æ–∫—Ä—É–∂–µ–Ω–∏—è, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤.

3. –ó–∞–ø—É—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   ```bash
   docker-compose up --build
   ```

4. –°–æ–∑–¥–∞–π —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –≤ –∞–¥–º–∏–Ω–∫—É):
   ```bash
   docker-compose exec backend python manage.py createsuperuser
   ```

–í—Å–µ –≥–æ—Ç–æ–≤–æ! 
- API –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000/api/`
- –ê–¥–º–∏–Ω–∫–∞: `http://localhost:8000/admin/`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger): `http://localhost:8000/api/docs/`

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11** + **Django 5.0**
- **Django REST Framework** ‚Äî –¥–ª—è API
- **PostgreSQL** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **JWT** (SimpleJWT) ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **drf-spectacular** ‚Äî –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

---

## üîë –î–æ—Å—Ç—É–ø—ã –∏ –†–æ–ª–∏

–í —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å 3 —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –†–æ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∑–∞–¥–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–æ–º.

1. **–ó–∞—è–≤–∏—Ç–µ–ª—å (REQUESTER)**
   - –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏.
   - –í–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞—è–≤–∫–∏.
   
2. **–û–ø–µ—Ä–∞—Ç–æ—Ä (OPERATOR)**
   - –í–∏–¥–∏—Ç –≤—Å–µ –∑–∞—è–≤–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ.
   - –ù–∞–∑–Ω–∞—á–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –Ω–∞ –∑–∞—è–≤–∫–∏.
   
3. **–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (EXECUTOR)**
   - –í–∏–¥–∏—Ç –∑–∞—è–≤–∫–∏, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ª–∏—á–Ω–æ –µ–º—É.
   - –ú–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ (–≤—ã–ø–æ–ª–Ω—è—Ç—å).

---

## üìö API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

–ü–æ–ª–Ω—É—é —Å—Ö–µ–º—É —Å–æ –≤—Å–µ–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å–º–æ—Ç—Ä–∏ –≤ [Swagger UI](http://localhost:8000/api/docs/), —Ç—É—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:

### Auth
- `POST /api/auth/register/` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login/` ‚Äî –í—Ö–æ–¥ (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞)
- `GET /api/auth/profile/` ‚Äî –ü—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ —é–∑–µ—Ä–∞

### Tickets
- `GET /api/tickets/my-tickets/` ‚Äî –ú–æ–∏ –∑–∞—è–≤–∫–∏ (–¥–ª—è –ó–∞—è–≤–∏—Ç–µ–ª—è)
- `POST /api/tickets/` ‚Äî –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É (–¥–ª—è –ó–∞—è–≤–∏—Ç–µ–ª—è)
- `GET /api/tickets/all-tickets/` ‚Äî –í—Å–µ –∑–∞—è–≤–∫–∏ (–¥–ª—è –û–ø–µ—Ä–∞—Ç–æ—Ä–∞)
- `POST /api/tickets/{id}/assign/` ‚Äî –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–¥–ª—è –û–ø–µ—Ä–∞—Ç–æ—Ä–∞)
- `GET /api/tickets/assigned-to-me/` ‚Äî –ú–æ–∏ –∑–∞–¥–∞—á–∏ (–¥–ª—è –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è)
- `POST /api/tickets/{id}/execute/` ‚Äî –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É (–¥–ª—è –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è)

---

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `backend/apps/users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏
- `backend/apps/tickets` ‚Äî –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –∑–∞—è–≤–∫–∞–º–∏
- `backend/config` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django (—Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ base, dev, prod)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–µ–∂–∞—Ç –≤ `.env`. 
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–¥, –ø–æ–º–µ–Ω—è–π `DJANGO_ENVIRONMENT=production` (–≤–∫–ª—é—á–∏—Ç—Å—è –∑–∞–ø–∏—Å—å –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª, –æ—Ç–∫–ª—é—á–∞—Ç—Å—è –ª–∏—à–Ω–∏–µ —Ö–µ–¥–µ—Ä—ã –∏ —Ç.–¥.).
